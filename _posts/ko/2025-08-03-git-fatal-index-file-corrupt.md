---
typora-root-url: ../
layout: single
title: >
    Git fatal: index file corrupt 해결 방법
date: 2025-08-03T11:10:00+09:00
header:
   teaser: /images/header_images/overlay_image_git.png
   overlay_image: /images/header_images/overlay_image_git.png
   overlay_filter: 0.5
excerpt: >
    Git의 스테이징 영역 정보를 담고 있는 인덱스 파일(.git/index)이 손상되었을 때 발생하는 `fatal: index file corrupt` 오류의 원인과 복구 방법을 알아봅니다.
categories:
  - ko_Troubleshooting
tags:
  - Git
  - Git Error
  - index file
  - git reset
---

## 문제 상황

Git을 사용하던 중 `git status`, `git add`, `git commit` 등의 명령을 실행했을 때 다음과 같은 치명적인(fatal) 오류가 발생할 수 있습니다.

```
fatal: index file corrupt
```

이 오류는 Git 저장소의 핵심 파일 중 하나인 **인덱스(index) 파일이 손상되었음**을 의미합니다. 인덱스 파일(`.git/index`)은 **스테이징 영역(Staging Area)**의 상태를 기록하는 중요한 파일입니다. 즉, 어떤 파일들이 `git add` 명령을 통해 다음 커밋에 포함될 예정인지를 관리합니다.

이 파일이 손상되면 Git은 현재 작업 디렉터리, 스테이징 영역, 그리고 마지막 커밋 간의 변경 사항을 정확히 파악할 수 없게 되어 대부분의 작업을 수행할 수 없습니다. 손상 원인은 갑작스러운 시스템 종료, 디스크 오류, 파일 동기화 문제 등 다양합니다.

## 해결 방법

다행히 인덱스 파일은 Git 저장소의 다른 정보들로부터 다시 생성할 수 있습니다. 따라서 가장 일반적인 해결책은 **손상된 인덱스 파일을 삭제하고 Git이 새로 만들도록 하는 것**입니다.

**주의:** 이 과정을 진행하기 전에, 혹시 모를 상황에 대비해 프로젝트 폴더 전체를 다른 곳에 복사하여 백업해두는 것이 좋습니다.

### 1단계: 손상된 인덱스 파일 삭제하기

먼저, `.git` 디렉터리 안에 있는 `index` 파일을 직접 삭제합니다.

```bash
# Linux / macOS / Git Bash
rm .git/index
```

Windows에서는 파일 탐색기를 열어 `.git` 폴더(숨김 폴더일 수 있음)로 이동한 뒤 `index` 파일을 수동으로 삭제할 수 있습니다.

### 2단계: 인덱스 재설정하기

이제 Git에게 인덱스 파일을 마지막 커밋(HEAD) 상태 기준으로 새로 만들라고 지시합니다. `git reset` 명령을 사용하면 이 작업을 수행할 수 있습니다.

```bash
git reset
```

`git reset` 명령을 아무런 옵션 없이 실행하면 기본적으로 `--mixed` 옵션으로 동작합니다. 이 명령은 다음 두 가지 작업을 수행합니다.

1.  **새로운 인덱스 파일 생성**: 마지막 커밋(HEAD)의 스냅샷을 기반으로 `.git/index` 파일을 다시 만듭니다.
2.  **스테이징 영역 초기화**: 기존에 스테이징했던(`git add` 했던) 모든 변경 사항을 스테이징되지 않은 상태(unstaged)로 되돌립니다.

이 명령을 실행해도 **작업 디렉터리(working directory)의 파일들은 변경되지 않습니다.** 즉, 코드를 잃어버릴 염려는 없습니다. 단지 `git add` 했던 내용들이 취소될 뿐입니다.

### 3단계: 상태 확인 및 다시 스테이징하기

이제 `git status` 명령을 실행하여 저장소 상태가 정상으로 돌아왔는지 확인합니다.

```bash
git status
```

오류가 사라지고, 이전에 스테이징했던 파일들이 "Changes not staged for commit" 목록에 나타나는 것을 볼 수 있습니다. 이제 필요한 파일들을 다시 `git add` 하여 커밋을 진행하면 됩니다.

### 최후의 수단: 새로 클론하기

만약 `git reset`으로도 문제가 해결되지 않거나 다른 `fatal` 오류가 계속 발생한다면, 로컬 저장소에 심각한 손상이 발생했을 수 있습니다. 이 경우 가장 확실한 방법은 원격 저장소에서 프로젝트를 새로 클론(clone)하는 것입니다.

1.  현재 작업 중인 내용을 다른 곳에 백업합니다.
2.  기존 프로젝트 폴더를 삭제하거나 이름을 변경합니다.
3.  `git clone` 명령으로 원격 저장소에서 새로 받아옵니다.
4.  백업해둔 내용을 새 폴더에 복사하여 작업을 이어갑니다.

## 결론

`fatal: index file corrupt` 오류는 스테이징 영역을 관리하는 `.git/index` 파일이 손상되어 발생합니다. 대부분의 경우 다음 두 단계로 간단히 해결할 수 있습니다.

1.  `rm .git/index` 명령으로 **손상된 인덱스 파일을 삭제**합니다.
2.  `git reset` 명령으로 **인덱스를 마지막 커밋 상태로 재설정**합니다.

이 방법은 작업 디렉터리의 파일을 건드리지 않으므로 비교적 안전하지만, 만약을 위해 중요한 변경 사항은 항상 백업하는 습관을 들이는 것이 좋습니다.
