---
typora-root-url: ../
layout: single
title: >
    Git 최신 커밋 수정하기: git commit --amend 완벽 가이드
date: 2025-08-03T16:15:00+09:00
header:
    teaser: /images/header_images/overlay_image_git.png
    overlay_image: /images/header_images/overlay_image_git.png
    overlay_filter: 0.5
excerpt: >
    git commit --amend는 가장 최근의 커밋을 수정할 수 있는 유용한 명령어입니다. 커밋 메시지를 변경하거나, 빠뜨린 파일을 추가하는 등 마지막 커밋을 보완할 때 사용합니다.
categories:
    - ko_Troubleshooting
tags:
    - Git
    - Commit
    - Amend
---

## `git commit --amend`란 무엇인가?

`git commit --amend`는 가장 최근에 한 커밋을 수정(amend)하는 데 사용되는 명령어입니다. 이 명령은 새로운 커밋을 만드는 대신, **이전 커밋을 새로운 커밋으로 대체**합니다. 즉, 최신 커밋에 작은 실수가 있었을 때 (예: 오타가 있는 커밋 메시지, 빠뜨린 파일 추가, 불필요한 파일 포함 등) 별도의 수정 커밋을 남기지 않고 깔끔하게 히스토리를 관리할 수 있게 해줍니다.

## `git commit --amend`의 주요 사용 사례

### 1. 최신 커밋 메시지 수정하기

가장 흔한 사용 사례입니다. 커밋을 하고 보니 메시지에 오타가 있거나 내용을 보충하고 싶을 때 사용합니다.

1.  **명령어 실행**:
    워킹 디렉터리에 변경 사항이 없는 상태에서 아래 명령을 실행합니다.
    ```bash
    git commit --amend
    ```

2.  **커밋 메시지 편집**:
    이 명령을 실행하면 Git 설정에 따라 기본 텍스트 편집기(예: Vim, Nano)가 열리면서 이전 커밋 메시지가 나타납니다. 메시지를 수정한 후 저장하고 편집기를 닫으면 커밋이 수정됩니다.

**팁**: 간단한 메시지 수정이라면 아래처럼 한 줄로 실행할 수도 있습니다.
```bash
git commit --amend -m "새로운 커밋 메시지"
```

### 2. 최신 커밋에 파일 추가하기 (빠뜨린 파일 스테이징)

커밋을 했는데 중요한 파일을 빠뜨렸다는 것을 깨달았을 때 사용합니다.

1.  **빠뜨린 파일 스테이징**:
    `git add` 명령으로 추가하려는 파일을 스테이징합니다.
    ```bash
    git add forgotten_file.txt
    ```

2.  **`--amend` 옵션으로 커밋**:
    `--no-edit` 옵션을 함께 사용하면 커밋 메시지를 수정하지 않고 스테이징 영역의 변경 사항만 최신 커밋에 반영할 수 있습니다.
    ```bash
    git commit --amend --no-edit
    ```
    `--no-edit` 옵션을 생략하면 커밋 메시지 편집기가 열리며, 메시지를 수정할 수도 있습니다.

### 3. 최신 커밋에서 파일 제거하기

커밋에 포함되지 말아야 할 파일을 실수로 포함시킨 경우에도 사용할 수 있습니다.

1.  **파일 제거**:
    `git rm --cached`를 사용하여 스테이징 영역과 Git 추적에서 파일을 제거합니다. (워킹 디렉터리의 파일은 그대로 둡니다.)
    ```bash
    git rm --cached unwanted_file.txt
    ```

2.  **`--amend` 옵션으로 커밋**:
    ```bash
    git commit --amend --no-edit
    ```

## `git commit --amend`의 동작 원리와 주의사항

`--amend`는 기존 커밋을 "수정"하는 것처럼 보이지만, 내부적으로는 완전히 **새로운 커밋을 생성**하고 이전 커밋을 대체하는 방식으로 동작합니다. 즉, 커밋 내용은 비슷할지라도 커밋 ID(해시)는 완전히 달라집니다.

이러한 특성 때문에 매우 중요한 주의사항이 있습니다:

**이미 원격 저장소(remote)에 푸시(push)한 커밋은 절대 `amend`해서는 안 됩니다.**

만약 공유된 브랜치(예: `main`, `develop`)에 푸시된 커밋을 `amend`하면, 로컬 히스토리와 원격 히스토리가 달라지게 됩니다(diverge). 이 상태에서 푸시하려면 `--force` 옵션을 사용해야 하는데, 이는 원격 저장소의 히스토리를 강제로 덮어쓰는 위험한 행동이며 다른 팀원들의 작업 내용과 심각한 충돌을 일으킬 수 있습니다.

따라서 `git commit --amend`는 **아직 로컬에만 있는 커밋, 즉 원격 저장소에 푸시하지 않은 커밋에만 사용**하는 것이 안전합니다.

만약 이미 푸시한 커밋의 내용을 수정해야 한다면, `git revert`를 사용하여 변경 사항을 되돌리는 새로운 커밋을 만드는 것이 올바른 방법입니다.

## 결론

`git commit --amend`는 로컬 저장소의 커밋 히스토리를 깔끔하게 유지하는 데 매우 유용한 도구입니다. 최신 커밋의 메시지를 다듬거나 빠뜨린 파일을 추가하는 등의 작은 실수를 바로잡는 데 효과적입니다. 하지만 이 명령은 커밋 히스토리를 변경한다는 점을 명심하고, 아직 푸시하지 않은 로컬 커밋에만 신중하게 사용해야 합니다.

---
*작업 이력*
- *2025년 8월 3일: 포스트 초안 작성*
